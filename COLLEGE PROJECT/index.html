<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="sty.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

</head>
<body>
   <header class="header">
    <a href="#" class="logo">Mybook.com</a>
   
    <nav class="navbar">
      
        <a href="#" class="active">Home</a>
        <a href="#">About Us</a>
        <a href="#">contact</a>
     
    </nav>
   </header>
   <section class="home">
    
        <div class="home-content">
           
            <div class="social-media">
                <a href="#">
                    <i class='bx bxl-linkedin-square' ></i>
                </a>
                <a href="#">
                   
                    <i class='bx bxl-instagram-alt' ></i>
                </a>
                <a href="#">
                    <i class='bx bxl-github' ></i>
                </a>
                <a href="#">
                    <i class='bx bxl-gmail' ></i>
                </a>
            </div>
            <div class="we">
                <div class="student">
                    <h1>Student</h1>
                     
                    <label for="name">Username</label>
                    <input type="text" class="text" id="email">
                    <label for="password">Password</label>
                    <input type="password" class="text" id="password">
                    <br>
                   <a>
                    <input type="submit" class="btn" onclick="student()">
                   </a>
                   <hr class="line">
                   <p class="re">Not have account ? <a href="register.html">Register</a></p>
                              </div>       
                              <div class = "student teacher" >
                               <h1>Teacher</h1>
                               <label for="name">Username</label>
                               <input type="text" class="text" id="t_name">
                               <label for="password">Password</label>
                               <input type="password" class="text" id="t_pass">
                               <br>
                              <a> <input type="submit" class="btn" onclick="teacher()"></a>
                              <hr class="line">
                              <p class="re">Not have account ? <a href="register.html">Register</a></p>
                              
                              </div>  
              </div>
             
           </div>     
         
     </section>         
                </div>

        <script>

const student = () =>{

            var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "email": document.getElementById("email").value,
  "password": document.getElementById("password").value
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("http://localhost:4000/login", requestOptions)
  .then(response => response.json())
  .then(result => 
  {
  console.log(result.status)
  if(result.status){
    window.location.href="student.html";
  }
  else{
    alert("Invalid password or email");
  }
  }
  )
  .catch(error => console.log('error', error));

}

var teacher = () => {
    var myHeaders = new Headers();
myHeaders.append("Content-Type", "application/json");

var raw = JSON.stringify({
  "email": document.getElementById("t_name").value,
  "password": document.getElementById("t_pass").value
});

var requestOptions = {
  method: 'POST',
  headers: myHeaders,
  body: raw,
  redirect: 'follow'
};

fetch("http://localhost:4000/login", requestOptions)
  .then(response => response.json())
  .then(result => 
  {
  console.log(result.status)
  if(result.status){
    window.location.href="student.html";
  }else{
    alert("Invalid password or email");
  }
  }
  )
  .catch(error => console.log('error', error));

}
        </script>        
               
</body>
</html>